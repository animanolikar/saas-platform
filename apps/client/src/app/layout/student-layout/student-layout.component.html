<div class="d-flex vh-100 bg-body-tertiary">
    <!-- Sidebar -->
    <div class="bg-body border-end d-flex flex-column" style="width: 250px;">
        <div class="border-bottom text-center d-flex align-items-center justify-content-center" style="height: 88px;">
            <svg width="150" height="40" viewBox="0 0 220 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- SVG Content remains same -->
                <path d="M14 40.5V31.2L3 18.8H9.4L16.9 27.8L24.5 18.8H30.8L19.9 31.2 V40.5H14Z" fill="#E10600" />
                <path
                    d="M34 32.5V18.8H39.3V32.1 C39.3 35.6 41.1 37.3 44.6 37.3 C48.1 37.3 49.9 35.6 49.9 32.1 V18.8H55.2V32.5 C55.2 38.6 51.1 41.3 44.6 41.3 C38.1 41.3 34 38.6 34 32.5Z"
                    fill="#FF2A1A" />
                <path d="M60 40.5V18.8H65.3V29.5L74.7 18.8H80.8L70.6 29.8 L81.5 40.5H75.3L65.3 30.6V40.5H60Z"
                    fill="#E10600" />
                <path d="M90 40.5V23.1H82.6V18.8H102.7V23.1H95.3V40.5H90Z" fill="#9B0C08" />
                <path d="M107 40.5V18.8H112.3V40.5H107Z" fill="#E10600" />
                <circle cx="140" cy="10" r="4" fill="#9B0C08" />
                <circle cx="152" cy="16" r="4" fill="#E10600" />
                <circle cx="164" cy="10" r="4" fill="#9B0C08" />
            </svg>
        </div>
        <nav class="nav flex-column p-3 gap-2">
            <a routerLink="/student/overview" routerLinkActive="bg-primary-subtle text-primary fw-bold"
                class="nav-link text-body rounded-3 px-3 py-2">
                <i class="bi bi-speedometer2 me-2"></i> Overview
            </a>
            <a routerLink="/student/dashboard" routerLinkActive="bg-primary-subtle text-primary fw-bold"
                class="nav-link text-body rounded-3 px-3 py-2">
                <i class="bi bi-grid me-2"></i> My Exams
            </a>
            <a routerLink="/student/results" routerLinkActive="bg-primary-subtle text-primary fw-bold"
                class="nav-link text-body rounded-3 px-3 py-2">
                <i class="bi bi-journal-check me-2"></i> My Progress
            </a>
            <a routerLink="/student/reports" routerLinkActive="bg-primary-subtle text-primary fw-bold"
                class="nav-link text-body rounded-3 px-3 py-2">
                <i class="bi bi-bar-chart-line me-2"></i> Analytics
            </a>
            <a routerLink="/student/parent-report" routerLinkActive="bg-primary-subtle text-primary fw-bold"
                class="nav-link text-body rounded-3 px-3 py-2">
                <i class="bi bi-file-earmark-person me-2"></i> Parent Report
            </a>
        </nav>
        <div class="mt-auto p-3 border-top text-center text-muted small">
            &copy; 2024 Yukti
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-grow-1 overflow-auto d-flex flex-column">
        <!-- Toolbar -->
        <header class="bg-body border-bottom px-4 d-flex justify-content-between align-items-center sticky-top"
            style="height: 88px;">
            <!-- Breadcrumb or Title placeholder -->
            <div class="fw-medium text-body-secondary">Student Portal</div>

            <div class="d-flex align-items-center gap-4">
                <!-- Dark Mode Toggle -->
                <button class="btn btn-outline-secondary rounded-circle p-2 border-0" (click)="toggleTheme()">
                    <i class="bi" [class.bi-moon]="!isDarkMode" [class.bi-sun]="isDarkMode"></i>
                </button>

                <!-- Notifications -->
                <button class="btn btn-outline-secondary rounded-circle position-relative p-2 border-0">
                    <i class="bi bi-bell fs-5"></i>
                    <span
                        class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
                        <span class="visually-hidden">New alerts</span>
                    </span>
                </button>

                <!-- User Profile -->
                <div class="dropdown">
                    <a href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle text-body"
                        id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="bg-primary-subtle text-primary rounded-circle d-flex justify-content-center align-items-center me-2 fw-bold"
                            style="width: 32px; height: 32px;">
                            {{ (user?.firstName || 'S')[0] }}
                        </div>
                        <div class="d-none d-sm-block">
                            <div class="fw-bold small lh-1">{{ user?.firstName || 'Student' }}</div>
                        </div>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow border-0 rounded-3 mt-2"
                        aria-labelledby="userDropdown">
                        <li>
                            <h6 class="dropdown-header">Signed in as <br>{{ user?.email || 'Student' }}</h6>
                        </li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" routerLink="/student/profile"><i class="bi bi-person me-2"></i>
                                Profile</a></li>
                        <li><a class="dropdown-item" routerLink="/student/profile"><i class="bi bi-gear me-2"></i>
                                Settings</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><button class="dropdown-item text-danger" (click)="openLogoutModal()"><i
                                    class="bi bi-box-arrow-right me-2"></i> Logout</button></li>
                    </ul>
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <div class="flex-grow-1 bg-body-tertiary">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>

<!-- Logout Confirmation Modal -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content rounded-4 border-0 shadow">
            <div class="modal-body p-4 text-center">
                <div class="mb-3 text-danger">
                    <i class="bi bi-box-arrow-right fs-1"></i>
                </div>
                <h5 class="fw-bold mb-2">Log Out?</h5>
                <p class="text-muted small mb-4">Are you sure you want to end your session?</p>
                <div class="d-grid gap-2">
                    <button type="button" class="btn btn-danger" (click)="confirmLogout()">Yes, Log Out</button>
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>